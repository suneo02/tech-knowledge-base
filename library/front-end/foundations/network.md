# 前端网络核心指南

本文档系统性地梳理了前端开发中必须掌握的网络知识，从基础的同源策略到复杂的跨域解决方案，再到现代的前后端通信技术，旨在为开发者提供一份清晰、实用的学习和面试指南。

---

## 一、浏览器网络安全基石

## 二、跨域：突破同源限制

跨域的本质是浏览器基于同源策略的安全限制。请求本身已成功到达服务器并返回，但返回的结果被浏览器拦截。以下是常见的解决方案。

### 2.4 WebSocket

WebSocket 协议本身支持跨域通信，不遵循同源策略。

### 2.5 postMessage

`postMessage` 是 HTML5 提供的 API，允许在不同源的窗口（如页面与 `iframe`、新打开的窗口）之间安全地进行异步消息传递。

---

### 3.3 实时通信技术

| 技术                         | 优点                         | 缺点                              | 适用场景                     |
| :--------------------------- | :--------------------------- | :-------------------------------- | :--------------------------- |
| **WebSocket**                | 全双工，低延迟，性能好       | 需额外处理兼容性和心跳保活        | 实时游戏、聊天室、协同编辑   |
| **Server-Sent Events (SSE)** | 轻量，简单易用，支持断线重连 | 单向（服务器->客户端），IE 不支持 | 新闻推送、股票行情、状态更新 |
| **AJAX 轮询**                | 兼容性极好                   | 延迟高，浪费资源                  | 兼容性要求高的场景           |

---

## 四、HTTP 深度应用与排错

### 4.1 HTTP Keep-Alive

HTTP/1.1 默认开启 `Connection: Keep-Alive`，允许在一次 TCP 连接中处理多个 HTTP 请求，避免了频繁建立和断开连接的开销，提升了性能。这与 TCP 层面的 Keepalive（用于检测连接是否存活）是不同的概念。

### 4.2 SSL/TLS 连接恢复

为了加速 HTTPS 的重复连接，TLS 提供了会话恢复机制：

- **Session ID**: 服务器保存每个会话的信息，并给客户端一个 Session ID。客户端下次连接时带上 ID，如果服务器有记录，则可以恢复会话，跳过完整的握手过程。
- **Session Ticket**: 服务器将加密的会话信息（Ticket）发送给客户端保存。客户端下次连接时将 Ticket 发回，服务器解密后即可恢复会话。此方案更适合分布式服务器。
