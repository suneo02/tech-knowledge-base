# 格式三：全景技术白皮书 (The Whitepaper)

*   **用途**：日常复盘、技术博客、知识库沉淀。
*   **特点**：详尽、图文并茂、记录决策过程和事故复盘。
*   **前置要求**：引用 [通用基线](./project-experience-baseline.md) 作为所有素材的“母版”和证据来源。

## 1. 编写模板

```markdown
# [项目名称] 技术全景复盘

## 1. 业务与架构
- **业务背景**：详细描述业务流程、用户画像、痛点。
- **架构设计**：(建议插入 Mermaid 流程图) 前端架构、数据流向、部署架构。
- **技术选型**：为什么选 Vite 而不是 Webpack？为什么选 Pinia？(列出竞品对比表格)

## 2. 核心难点攻坚 (Case Study)
### 难点 1：超大数据量表格性能优化
- **问题现象**：描述卡顿细节，附 Performance 截图，主线程阻塞 500ms+。
- **尝试方案**：
  - v1: 纯分页 (用户体验差)
  - v2: 虚拟滚动 (快速滚动白屏)
  - v3: 虚拟滚动 + 缓冲区 + 骨架屏 (最终方案)
- **源码解析**：`src/components/VirtualList.vue` 关键代码片段 (粘贴核心逻辑)。
- **参考资料**：附上参考的技术文章链接。

## 3. 事故与反思 (Post-Mortem)
- **线上事故**：[2023-11-11] 订单提交重复扣款。
- **根本原因**：前端防抖失效，后端幂等性未覆盖。
- **修复方案**：前端封装 useRequest 增加全局防抖，后端增加 Redis 锁。
- **长期改进**：引入 E2E 测试覆盖支付流程。

## 4. 知识库 (Wiki)
- 记录项目中用到的生僻 API、设计模式、性能指标定义。
```

## 2. 内容深挖指南

若觉得项目平淡，可从以下维度深挖：

| 维度 | 思考方向 | 示例 |
| :--- | :--- | :--- |
| **难点** | **规模/体验/兼容/架构** | 数据量大？网速慢？低端机跑不动？代码耦合？ |
| **不足** | **质量/测试/性能/鲁棒** | 有无 TODO？硬编码？测试覆盖？异常处理？ |

## 3. 检查清单

*   [ ] **完整性**：是否有架构图？是否有源码片段？
*   [ ] **深度**：是否记录了“为什么”而不仅仅是“是什么”？
*   [ ] **证据**：是否有截图、链接、日志等证据支撑？
