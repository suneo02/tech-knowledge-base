# 格式二：项目深挖底稿 (The Manuscript)

*   **用途**：面试口述脚本、答辩底稿。
*   **特点**：口语化、防御性强、包含“怎么说”和“怎么辩”。
*   **前置要求**：基于 [通用基线](./project-experience-baseline.md) 的 STAR 结构扩展细节，重点补充 **Highlight (难点)** 和 **Deficiency (不足)**。

## 1. 编写模板

### 【一分钟介绍脚本】(Elevator Pitch)
*用于开场介绍，建议背诵。*

- "这个项目是一个 [B2C 电商平台]，主要服务于 [大促期间的高并发流量]，日均 PV 达到 [100W+]。"
- "在这个项目中，我主要负责 [商品详情页] 的重构与性能优化。"
- "当时遇到的最大挑战是 [长列表渲染导致的页面卡顿]，特别是在低端机上首屏时间超过 3s。"
- "为了解决这个问题，我对比了多种方案，最终采用了 [虚拟滚动 + Web Worker] 的架构。具体来说，通过 [vue-virtual-scroller] 只渲染可视区数据，并把数据预处理放到 Worker 线程..."
- "最终效果很明显，首屏时间降到了 [1.1s]，转化率提升了 [5%]。"

### 【核心技术复盘】(STAR Detail)
*用于回答“请详细介绍一下这个项目”或“你做了什么”。*

- **S (背景)**：详情页数据结构复杂，单次请求返回 100+ 条 SKU 数据，旧版直接 v-for 渲染导致 DOM 节点过万，内存占用高。
- **T (任务)**：在不阉割业务功能的前提下，将 FCP 优化到 1.5s 以内，并保证低端机流畅度。
- **A (行动)**：
    1.  **瓶颈分析**：通过 Chrome Performance 录制，发现主线程 Long Task 阻塞严重，Scripting 耗时占比 60%。
    2.  **方案落地**：引入 vue-virtual-scroller 实现虚拟列表；配合 IntersectionObserver 实现图片懒加载；配置 Webpack 做路由懒加载。
    3.  **兜底处理**：设计了骨架屏 (Skeleton) 提升等待体验，并对接口失败做了重试机制。
- **R (结果)**：Lighthouse 评分从 45 提升至 90，长列表滚动 FPS 稳定在 55+，跳出率降低 3%。

### 【防御性准备】(Defense & Reflection)
*用于应对追问和质疑。*

- **Q: 为什么不用分页而用虚拟滚动？**
  A: 分页会打断用户浏览心流，业务方希望保持沉浸式体验。虽然实现复杂点，但转化率数据证明是值得的。

- **Q: 虚拟滚动有什么坑？怎么解决的？**
  A: 快速滚动时会有白屏。我通过设置 buffer 缓冲区预渲染上下 5 屏内容，并增加了滚动节流处理。

- **Q: 项目还有什么遗憾？(Deficiency)**
  A: 目前单元测试覆盖率不高（仅 60%），如果再给我时间，我会重点补充核心计算逻辑的 Jest 测试用例。

## 2. 检查清单

*   [ ] **口语化**：是否读起来顺口？有没有书面语（如“兹”、“笔者”）？
*   [ ] **防御性**：是否准备了至少 2 个可能被挑战的坏点（坑）？
*   [ ] **真实感**：是否包含了具体的工具名（Chrome Performance）和库名？
