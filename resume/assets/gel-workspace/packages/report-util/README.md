# ğŸ”§ `report-util` - æŠ¥å‘Šç”Ÿæˆæ ¸å¿ƒå·¥å…·é›†

## ğŸ¯ ä¸€å¥è¯å®šä½

`report-util` æ˜¯ä¸ºæŠ¥å‘Šç³»ç»Ÿæä¾›**åº•å±‚å·¥å…·å‡½æ•°**çš„å…±äº«åŒ…ï¼Œç¡®ä¿å‰ç«¯é¢„è§ˆä¸åç«¯æ‰“å°çš„**é€»è¾‘ä¸€è‡´æ€§**ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
packages/report-util/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ format/               # æ•°æ®æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ table/                # è¡¨æ ¼å¤„ç†
â”‚   â”œâ”€â”€ tree/                 # æ ‘ç»“æ„æ“ä½œ
â”‚   â”œâ”€â”€ misc/                 # é€šç”¨å·¥å…·ï¼ˆXSSé˜²æŠ¤ç­‰ï¼‰
â”‚   â”œâ”€â”€ constants/            # å…±äº«å¸¸é‡
â”‚   â”œâ”€â”€ url/                  # URLå‚æ•°å¤„ç†
â”‚   â”œâ”€â”€ style/                # å…±äº«æ ·å¼
â”‚   â””â”€â”€ types/                # TypeScriptç±»å‹
â”œâ”€â”€ docs/                     # è¯¦ç»†è®¾è®¡æ–‡æ¡£
â””â”€â”€ package.json              # å¤šå…¥å£ç‚¹é…ç½®
```

## ğŸš€ æ ¸å¿ƒæ¨¡å—

| æ¨¡å—è·¯å¾„ | åŠŸèƒ½ | ç”¨é€” |
| :--- | :--- | :--- |
| **`report-util/format`** | **æ•°æ®æ ¼å¼åŒ–** | æ•°å€¼ã€è´§å¸ã€æ—¥æœŸæ ¼å¼åŒ– |
| **`report-util/table`** | **è¡¨æ ¼å¤„ç†** | è¡¨æ ¼é…ç½®ã€æ¸²æŸ“å™¨ã€è½¬æ¢ |
| **`report-util/tree`** | **æ ‘ç»“æ„æ“ä½œ** | èŠ‚ç‚¹çŠ¶æ€ç®¡ç†ã€éšè—ä¼ æ’­ |
| **`report-util/misc`** | **é€šç”¨å·¥å…·** | XSSé˜²æŠ¤ã€æ•°ç»„ã€å›½é™…åŒ– |
| **`report-util/constants`**| **å…±äº«å¸¸é‡** | APIåœ°å€ã€é…ç½®å‚æ•° |
| **`report-util/url`** | **URLå¤„ç†** | å‚æ•°è§£æã€çŠ¶æ€ç¼–ç  |
| **`report-util/style`** | **å…±äº«æ ·å¼** | é¢„è§ˆæ‰“å°æ ·å¼ç»Ÿä¸€ |

## ğŸ’¡ ä½¿ç”¨æ–¹æ³•

```typescript
// æŒ‰éœ€ä»ç‰¹å®šæ¨¡å—å¯¼å…¥
import { formatNumber } from 'report-util/format';
import { replaceScript } from 'report-util/misc';

// æ•°æ®æ ¼å¼åŒ–
const formatted = formatNumber(12345.67, { decimalPlaces: 2 });
// â†’ "12,345.67"

// å®‰å…¨å¤„ç†
const safe = replaceScript('<script>alert("xss")</script>');
// â†’ ""
```

## ğŸ”— ä¾èµ–å…³ç³»

**æ¶ˆè´¹æ–¹**: `report-preview-ui`, `report-print`
**ä¾èµ–é¡¹**: `gel-types`, `lz-string`

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [è¯¦ç»†è®¾è®¡æ–‡æ¡£](./docs/design.md) - æ¶æ„è®¾è®¡ã€æŠ€æœ¯çº¦æŸã€å…³é”®å†³ç­–
- [å„æ¨¡å—æ–‡æ¡£](./src/) - å­æ¨¡å—è¯¦ç»†è¯´æ˜
- [æ¶æ„è¯´æ˜](./architecture.md) - æŠ€æœ¯æ¶æ„æ¦‚è¿°

## âš ï¸ é‡è¦æé†’

- **wkhtmltopdfå…¼å®¹**: ä»£ç å¿…é¡»åœ¨ES5ç¯å¢ƒä¸‹è¿è¡Œ
- **å®‰å…¨è¦æ±‚**: ç”¨æˆ·è¾“å…¥éœ€é€šè¿‡ `replaceScript` å¤„ç†
- **æŒ‰éœ€å¯¼å…¥**: æ”¯æŒå¤šå…¥å£ç‚¹ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯