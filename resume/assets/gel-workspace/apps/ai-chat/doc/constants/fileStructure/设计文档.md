# 文件结构常量设计文档

## 概述

`fileStructure.ts` 文件用于集中管理文件系统相关的数据结构和工具函数，为整个 MyFile 模块提供统一的数据源和工具方法。

## 详细功能说明

1. 定义了文件节点的数据结构 `FileNode`
2. 提供了文件系统的基础数据 `fileStructure`
3. 提供了根据文件 ID 获取文件名称的工具函数 `getFolderNameById`
4. 提供了将原始数据转换为 Tree 组件所需数据结构的工具函数 `convertToTreeData`
5. 提供了检测路由模式的工具函数 `isHashRouter`
6. 定义了本地存储的键名常量 `ACTIVE_FOLDER_KEY`

## 参数说明

### FileNode 接口

| 参数名   | 类型       | 描述                    |
| -------- | ---------- | ----------------------- |
| id       | string     | 文件/文件夹的唯一标识符 |
| name     | string     | 文件/文件夹的显示名称   |
| isFolder | boolean    | 是否为文件夹            |
| children | FileNode[] | 可选，子文件/文件夹列表 |

### getFolderNameById 函数

| 参数名 | 类型   | 描述                    |
| ------ | ------ | ----------------------- |
| id     | string | 文件/文件夹的唯一标识符 |

### convertToTreeData 函数

| 参数名 | 类型       | 描述             |
| ------ | ---------- | ---------------- |
| nodes  | FileNode[] | 原始文件节点数组 |

## 返回值说明

### getFolderNameById 函数

| 返回类型 | 描述                                           |
| -------- | ---------------------------------------------- |
| string   | 文件/文件夹的显示名称，如果未找到则返回原始 ID |

### convertToTreeData 函数

| 返回类型 | 描述                                    |
| -------- | --------------------------------------- |
| object[] | 符合 Ant Design Tree 组件要求的数据结构 |

### isHashRouter 函数

| 返回类型 | 描述                 |
| -------- | -------------------- |
| boolean  | 是否为 hash 路由模式 |

## 使用示例

```typescript
// 导入需要的功能
import {
  fileStructure,
  getFolderNameById,
  convertToTreeData
} from '../../constants/fileStructure';

// 获取文件夹名称
const folderName = getFolderNameById('downloads');
console.log(folderName); // 输出: 我的下载

// 转换为 Tree 组件数据
const treeData = convertToTreeData(fileStructure);

// 在组件中使用
const MyComponent = () => {
  return (
    <div>
      <h1>{getFolderNameById('file')}</h1>
      <Tree treeData={treeData} />
    </div>
  );
};
```
