@import 'gel-ui/variables.less';

/**
 * 懒加载容器样式
 * 用于 PDF 页面的懒加载和文本高亮显示
 */

.lazy-container {
  position: relative;
  overflow: hidden; // 防止内容溢出

  /**
   * 加载状态样式
   * 在页面首次进入可视区域前显示
   */
  &__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background-color: @basic-16; // 浅灰色背景
  }

  /**
   * 文本选区高亮层
   * 覆盖在 PDF 页面上，用于显示高亮区域
   */
  &__selection-layer {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none; // 不阻止鼠标事件，允许选择 PDF 文本
    z-index: 1; // 确保在 PDF 页面之上

    /**
     * 单个高亮选区样式
     * 通过 JavaScript 动态创建和定位
     */
    :global(.pdf-selection) {
      background-color: rgba(255, 255, 0, 0.3); // 半透明黄色高亮
      border: 1px solid rgba(255, 200, 0, 0.5); // 边框增强可见性
      transition: background-color 0.2s ease; // 平滑过渡效果

      // 激活状态（通过 JavaScript 添加 active 类）
      &:global(.active) {
        background-color: rgba(255, 165, 0, 0.4); // 橙色高亮，更明显
        border-color: rgba(255, 140, 0, 0.7);
        animation: pulse 0.5s ease-in-out; // 脉冲动画
      }
    }
  }
}

/**
 * 脉冲动画
 * 用于高亮区域被激活时的视觉反馈
 */
@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.02);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
