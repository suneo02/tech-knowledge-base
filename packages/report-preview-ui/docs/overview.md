# 概述

## 项目定位

`report-preview-ui` 是一个独立的 React 组件库，将 JSON 配置和业务数据转换为交互式的报告预览界面。

## 核心理念

### 配置驱动
UI 结构完全由外部配置决定，组件本身不包含业务逻辑，支持快速定制不同的报告样式。

### 分层解耦
组件严格分层，各司其职，从数据获取到渲染清晰分离关注点，便于维护和扩展。

## 核心流程

### 数据流转

1. **数据获取** - 并发获取公司基础信息、财务数据等
2. **状态管理** - 通过 Context 管理全局和渲染状态
3. **配置转换** - 将报告配置转换为可渲染的树形结构
4. **内容渲染** - 动态渲染表格、标题等内容模块

### 表格渲染

表格渲染支持三种类型：
- **水平表格** - 适用于横向数据展示
- **垂直表格** - 适用于键值对数据
- **交叉表格** - 适用于复杂的行列交叉数据

每种表格类型都支持多种渲染器，包括基础类型、自定义类型和特殊类型。

## 架构特点

### 三层组件架构

- **L1 入口层** - 数据整合，作为对外唯一入口
- **L2 布局层** - 界面骨架，处理布局和交互
- **L3 渲染层** - 内容执行，根据配置渲染具体内容

### 双层 Context

- **主 Context** - 管理全局业务状态
- **内容 Context** - 管理渲染相关状态

## 核心特性

### 配置驱动渲染
- JSON 配置解析
- 动态组件选择
- 插件化渲染器

### 状态管理
- 分离业务和渲染状态
- 状态计算和缓存
- 跨组件数据共享

### 交互功能
- 树形导航
- 内容联动滚动
- 页面缩放
- 节点可见性控制

### 国际化支持
- 多语言切换
- 异步数据翻译
- 配置国际化

### 性能优化
- 错误边界处理
- 数据验证机制
- 懒加载策略
- 缓存优化

## 设计目标

- **可复用性** - UI 与业务解耦，支持多平台集成
- **可维护性** - 清晰的架构和统一的接口
- **可扩展性** - 配置驱动和插件化设计
- **可靠性** - 完善的错误处理和边界情况

## 相关文档

- [架构设计](./architecture.md) - 技术架构和设计模式
- [使用指南](./usage.md) - 快速上手指南
- [组件参考](./components-reference.md) - API 参考
- [技术实现](./technical-implementation.md) - 核心技术细节
- [示例文档](./examples.md) - 使用示例和最佳实践