# 数据处理工具函数设计文档

## 概述

本文档描述了数据处理相关的工具函数，包括空值判断、值转换以及唯一名称生成等功能。这些工具函数主要用于处理表单数据、列表数据等场景，提高代码复用性和可维护性。

## 详细功能说明

### isNullOrEmpty

判断一个值是否为空。当值为 `undefined`、`null` 或空字符串（包括只有空格的字符串）时，返回 `true`；否则返回 `false`。

### returnValue

将各种类型的值转换为字符串。对于字符串类型，会去除首尾空格；对于数字和布尔值，会转换为对应的字符串表示；对于 `null` 和 `undefined`，返回空字符串。

### generateUniqueName

生成唯一的名称，主要用于列表中添加新项时的命名。当列表中已存在相同名称时，会自动添加序号，如"未命名(1)"、"未命名(2)"等。该函数会查找所有匹配的名称，并找出第一个未使用的序号，然后返回带有该序号的新名称。例如，如果列表中已有"未命名"和"未命名(2)"，则返回"未命名(1)"。

## 参数说明

### isNullOrEmpty

| 参数名 | 类型                                                        | 描述       |
| ------ | ----------------------------------------------------------- | ---------- |
| value  | number \| string \| boolean \| null \| undefined \| unknown | 要判断的值 |

### returnValue

| 参数名 | 类型                                                        | 描述       |
| ------ | ----------------------------------------------------------- | ---------- |
| value  | number \| string \| boolean \| null \| undefined \| unknown | 要转换的值 |

### generateUniqueName

| 参数名 | 类型   | 默认值   | 描述                               |
| ------ | ------ | -------- | ---------------------------------- |
| name   | string | "未命名" | 基础名称                           |
| list   | T[]    | []       | 现有项列表，每项必须包含 name 属性 |

## 返回值说明

### isNullOrEmpty

| 类型    | 描述                                  |
| ------- | ------------------------------------- |
| boolean | 如果值为空，返回 true；否则返回 false |

### returnValue

| 类型   | 描述             |
| ------ | ---------------- |
| string | 转换后的字符串值 |

### generateUniqueName

| 类型   | 描述           |
| ------ | -------------- |
| string | 生成的唯一名称 |

## 使用示例

### isNullOrEmpty

```typescript
import { isNullOrEmpty } from 'utils/common/data'

// 判断表单字段是否为空
const validateField = (value: string) => {
  if (isNullOrEmpty(value)) {
    return '字段不能为空'
  }
  return ''
}
```

### returnValue

```typescript
import { returnValue } from 'utils/common/data'

// 格式化显示值
const formatDisplayValue = (value: unknown) => {
  const strValue = returnValue(value)
  return strValue || '暂无数据'
}
```

### generateUniqueName

```typescript
import { generateUniqueName } from 'utils/common/data'

// 添加新列
const addColumn = () => {
  const columns = [{ name: '列1' }, { name: '未命名' }, { name: '未命名(2)' }]

  const newColumnName = generateUniqueName({
    name: '未命名',
    list: columns,
  })

  columns.push({ name: newColumnName })
  // 结果: columns 现在包含 { name: '未命名(1)' }
}
```
