# 待办任务列表

> 最后更新: 2024-12-14

## 📋 任务优先级分类

### 🔥 P1 - 核心功能与流程阻塞Bug

**功能优先，影响流程的bug优先**

#### 核心Bug修复

- [ ] **一级节点删除有 bug:** 删除后索引未同步或节点未重排

#### 关键功能

- [x] **多轮对话大纲预览:** 多轮 context 合并与分段逻辑复杂 (依赖: 接口 v3)
- [ ] **粘贴内容工程化处理:** 清理样式、自动分段、自动提取标题
- [ ] 报告内容溯源定位
- [ ] aigc cancel

---

### 🌟 P2 - 重要功能与优化

**功能完善，系统优化**

#### 功能增强

- [ ] 状态优化：重注水完成前无法编辑，重注水加入 global，重注水结束才算生成结束
- [ ] AI 生成前或者全文生成前应该手动保存内容
- [ ] 叶子节点才有 content
- [ ] 历史大纲会话无法查看用户上传文件
- [x] 文件预览展示预设 page number

#### 系统优化

- [ ] 注水加载前disable
- [ ] 流式中断埋点
- [x] 智能生成页面卸载
- [ ] hook 改造为 thunk redux

#### 文件与报告管理

- [x] 各类型文件预览
- [x] 报告编辑撤销重做

---

### 🔧 P3 - 界面优化与体验改进

**样式次之，界面优化**

#### 界面优化

- [ ] 报告内容 aigc 自动滚动
- [ ] 智能生成滚动跟随
- [ ] text preview 滚动跟随
- [ ] 无大纲但是有大纲 id 展示一个空态，保证用户可以编辑
- [ ] 报告名称是否要支持修改
- [ ] '@' 符号输入时后面有文本无法调起

---

### ❓ P4 - 待确认与低优先级

**待确认问题，文档与流程**

#### 待确认问题

- [ ] 报告页面修改章节标题需要提示重新生成
- [ ] 报告页面新增叶子章节需要提示是否 aigc
- [ ] 溯源实体识别优化（一个实体只判定一次？）

#### 格式与样式问题

- [ ] 报告详情大纲展示样式优化

#### 扩展功能

- [ ] 表格汇总及定位

---

## ✅ 已完成任务

已完成 **48** 个任务，详见 **[已完成任务归档文档](./tasks-completed.md)**

---

## 📝 任务统计

| 优先级   | 待完成 | 已完成 | 总计   |
| -------- | ------ | ------ | ------ |
| P1       | 5      | 1      | 6      |
| P2       | 10     | 11     | 21     |
| P3       | 3      | 8      | 11     |
| P4       | 5      | 15     | 20     |
| 已完成   | -      | 13     | 13     |
| **总计** | **23** | **48** | **71** |

**完成率**: 67.6% (48/71)

---

## 📚 相关文档

- [已完成任务归档](./tasks-completed.md) - 已完成任务详情
- [项目文档索引](../README.md) - 项目整体文档索引
- [报告详情模块](../RPDetail/README.md) - 报告详情完整设计
- [报告编辑器](../../src/components/ReportEditor/component-readme.md) - 编辑器组件文档
- [内容管理](../RPDetail/ContentManagement/README.md) - 数据层与状态管理
- [AIGC 核心流程](../RPDetail/ContentManagement/aigc-core-flow.md) - AI 生成流程设计
