# 首页模块API需求分析

> **文档版本 2024-12-XX** — 基于需求文档分析的API接口需求

## 📋 API接口需求列表

| 序号 | API名称            | 功能模块 | 主要用途                                                                 | 接口状态  |
| ---- | ------------------ | -------- | ------------------------------------------------------------------------ | --------- |
| 1    | 获取报告模板列表   | 模板管理 | 获取所有报告模板（标准和自定义），后端提供按使用时间倒序的排序数据       | ⬜ 待开发 |
| 2    | 获取模板样例内容   | 模板管理 | 获取标准模板的样例报告内容，用于"查看样例"功能展示                       | ⬜ 待开发 |
| 3    | 删除自定义模板     | 模板管理 | 删除用户创建的自定义模板，支持删除确认流程                               | ⬜ 待开发 |
| 4    | 获取历史报告列表   | 历史报告 | 获取用户历史生成的报告列表，后端提供按生成时间倒序的排序数据             | ⬜ 待开发 |
| 5    | 上传文件           | 文件上传 | 支持素材和模板文件上传，最多同时上传4份文件，同步返回上传结果            | ⬜ 待开发 |
| 6    | 获取已上传文件列表 | 文件引用 | 获取用户已上传的文件列表，用于@引用功能的文件选择窗口                    | ⬜ 待开发 |
| 7    | 创建报告任务       | 报告生成 | 提交用户输入的写作思路、上传文件、选择模板和企业名称，启动AI报告生成流程 | ⬜ 待开发 |

## 📊 API统计分析

### 按功能模块统计

- **模板管理**: 3个接口
- **历史报告**: 1个接口
- **文件上传**: 1个接口
- **文件引用**: 1个接口
- **报告生成**: 1个接口

### 接口状态统计

- **⬜ 待开发**: 7个接口
- **🔄 开发中**: 0个接口
- **✅ 已完成**: 0个接口

### 总计

- **接口总数**: 7个接口
- **核心接口**: 4个（模板列表、历史报告、文件上传、创建报告任务）
- **辅助接口**: 3个（模板样例、删除模板、文件列表）

## 📝 接口状态说明

### 状态标识

- **⬜ 待开发**: 接口尚未开始开发
- **🔄 开发中**: 接口正在开发中
- **✅ 已完成**: 接口开发完成并可用

### 使用说明

您可以根据实际开发进度，将对应接口的状态从"⬜ 待开发"更新为"🔄 开发中"或"✅ 已完成"，以便跟踪项目进度。

## 📝 接口设计建议

### 高频接口

- 获取报告模板列表
- 获取已上传文件列表
- 创建报告任务

### 重要接口

- 上传文件
- 获取历史报告列表

### 性能要求

- 模板列表接口需要支持缓存，提升加载速度
- 文件上传接口采用同步方式，需要优化上传速度
- 文件列表接口需要支持实时更新，用于@引用功能

### 业务逻辑说明

- **模板使用流程**: 用户选择模板→输入企业名称→创建报告任务→后端获取企业信息→AI微调编写思路
- **文件引用流程**: 用户上传文件→文件存储→获取文件列表→@引用选择→包含在报告任务中
- **排序规则**: 所有列表数据的排序由后端完成，前端直接展示排序后的数据

---

_最后更新时间: 2024年12月_
