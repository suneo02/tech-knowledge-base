---
title: DOM æ“ä½œå·¥å…·æŠ½è±¡ - å®æ–½è®¡åˆ’
version: v1
status: ğŸš§ è¿›è¡Œä¸­
---

[â† è¿”å›ä»»åŠ¡æ¦‚è§ˆ](/apps/report-ai/docs/specs/dom-utils-abstraction/README.md)

# å®æ–½è®¡åˆ’

## æ—¶é—´çº¿

| é˜¶æ®µ             | æ—¶é—´ | äº¤ä»˜ç‰©                |
| ---------------- | ---- | --------------------- |
| é˜¶æ®µ 1ï¼šå·¥å…·å®ç° | 5å¤©  | DOM å·¥å…·é›† + å•å…ƒæµ‹è¯• |
| é˜¶æ®µ 2ï¼šè¯•ç‚¹è¿ç§» | 3å¤©  | 2ä¸ªæ¨¡å—è¿ç§»å®Œæˆ       |
| é˜¶æ®µ 3ï¼šå…¨é¢æ¨å¹¿ | 5å¤©  | æ‰€æœ‰æ¨¡å—è¿ç§» + æ–‡æ¡£   |

## é˜¶æ®µ 1ï¼šå·¥å…·å®ç°ï¼ˆ5å¤©ï¼‰

| ä»»åŠ¡          | è´Ÿè´£äºº | æ—¶é—´  | äº¤ä»˜                |
| ------------- | ------ | ----- | ------------------- |
| 1.1 ç±»å‹å®šä¹‰  | TBD    | 0.5å¤© | types.ts + index.ts |
| 1.2 ä¸´æ—¶å®¹å™¨  | TBD    | 1å¤©   | container.ts + æµ‹è¯• |
| 1.3 å…ƒç´ æ“ä½œ  | TBD    | 1.5å¤© | element.ts + æµ‹è¯•   |
| 1.4 å…ƒç´ æŸ¥è¯¢  | TBD    | 1å¤©   | query.ts + æµ‹è¯•     |
| 1.5 HTML å¤„ç† | TBD    | 1å¤©   | html.ts + æµ‹è¯•      |

**éªŒæ”¶**ï¼šæµ‹è¯•è¦†ç›–ç‡ >90%ï¼Œæ‰€æœ‰ API å¯ç”¨

## é˜¶æ®µ 2ï¼šè¯•ç‚¹è¿ç§»ï¼ˆ3å¤©ï¼‰

| æ¨¡å—             | è´Ÿè´£äºº | æ—¶é—´  | è¿ç§»å†…å®¹                                |
| ---------------- | ------ | ----- | --------------------------------------- |
| contentSanitizer | TBD    | 1.5å¤© | ä½¿ç”¨ withTempContainer + removeElements |
| chapter/render   | TBD    | 1.5å¤© | ä½¿ç”¨ processHTML + forEachElement       |

**éªŒæ”¶**ï¼šåŠŸèƒ½ä¸€è‡´ï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡

## é˜¶æ®µ 3ï¼šå…¨é¢æ¨å¹¿ï¼ˆ5å¤©ï¼‰

| ä»»åŠ¡             | è´Ÿè´£äºº | æ—¶é—´ | å†…å®¹                              |
| ---------------- | ------ | ---- | --------------------------------- |
| 3.1 å…¶ä»–æ¨¡å—è¿ç§» | TBD    | 3å¤©  | document/parseã€chapterOrdinal ç­‰ |
| 3.2 æ–‡æ¡£ä¸ç¤ºä¾‹   | TBD    | 1å¤©  | README + è¿ç§»æŒ‡å—                 |
| 3.3 ä»£ç å®¡æŸ¥     | TBD    | 1å¤©  | è´¨é‡æ£€æŸ¥ + ä¼˜åŒ–                   |

**è¿ç§»æ¨¡å—åˆ—è¡¨**ï¼š

- `domain/reportEditor/document/parse.ts` - æŸ¥è¯¢æ ‡é¢˜ã€Fragment è½¬ HTML
- `domain/reportEditor/chapterOrdinal/render.ts` - åˆ›å»ºåºå·èŠ‚ç‚¹
- `domain/reportEditor/chapterId/ensureIds.ts` - æŸ¥è¯¢æ ‡é¢˜å…ƒç´ 
- `domain/reportEditor/chapterOrdinal/ordinalSync.ts` - æŸ¥è¯¢å¹¶æ›´æ–°æ ‡é¢˜

## é£é™©ä¸åº”å¯¹

| é£é™©       | åº”å¯¹                               |
| ---------- | ---------------------------------- |
| åŠŸèƒ½å›å½’   | æ¯æ¬¡è¿ç§»å‰è¿è¡Œå®Œæ•´æµ‹è¯•ï¼Œæ·»åŠ æ–°æµ‹è¯• |
| æ€§èƒ½å½±å“   | æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼Œæ‰¹é‡æ“ä½œä¼˜åŒ–         |
| è¿ç§»æˆæœ¬é«˜ | æ¸è¿›å¼è¿ç§»ï¼Œä¸å¼ºåˆ¶ä¸€æ¬¡æ€§å®Œæˆ       |

## éªŒæ”¶æ¸…å•

- [ ] æ‰€æœ‰å·¥å…·å‡½æ•°å®ç°å®Œæˆ
- [ ] è‡³å°‘ 2 ä¸ªæ¨¡å—å®Œæˆè¯•ç‚¹è¿ç§»
- [ ] æ‰€æœ‰ç°æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ–°å¢æµ‹è¯•è¦†ç›–ç‡ >90%
- [ ] ç¬¦åˆ TypeScript è§„èŒƒ
- [ ] API æ–‡æ¡£å®Œæ•´

@see /apps/report-ai/docs/specs/dom-utils-abstraction/spec-design-v1.md
