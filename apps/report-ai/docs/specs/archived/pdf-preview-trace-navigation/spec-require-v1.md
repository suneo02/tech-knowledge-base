# PDF 预览 Trace 数据导航 - 需求文档 v1

> 回链：[任务概览](./README.md)

## 业务目标

支持 PDF 预览中的章节快速跳转，提升多章节文件的导航体验。

## 核心场景

| 场景         | 触发方式     | 行为                              |
| ------------ | ------------ | --------------------------------- |
| 列表预览     | 点击文件列表 | 显示 Quick Jumper，从第 1 页开始  |
| 外部引用跳转 | 点击引用标记 | 直接跳转到指定页码，不显示 Jumper |

## 功能需求

### FR-1：Quick Jumper 导航

**触发条件**：

- 从列表点击文件
- 文件有 trace 数据（`position.length >= 1`）

**行为**：

- 显示章节标签列表
- PDF 从第 1 页开始
- 点击标签跳转到对应页码

### FR-2：外部引用跳转

**触发条件**：

- 传入 `initialPage` 参数

**行为**：

- 直接跳转到指定页码
- 不显示 Quick Jumper

## 数据约束

- `position[i]` 对应 `refChapter[i]`
- `position[i]` 为 `undefined` 时跳过该章节
- 页码从 1 开始计数

参考类型：`apps/report-ai/src/types/file/index.ts`

## 验收标准

- [ ] 列表点击显示 Jumper，从第 1 页开始
- [ ] 外部引用直接跳转，不显示 Jumper
- [ ] 章节标签显示正确名称
- [ ] 页码跳转准确

## 更新记录

| 日期       | 修改人   | 更新内容     |
| ---------- | -------- | ------------ |
| 2025-01-XX | 开发团队 | 创建需求文档 |
