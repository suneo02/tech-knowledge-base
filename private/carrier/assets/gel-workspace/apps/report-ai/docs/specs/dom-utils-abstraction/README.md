---
title: DOM æ“ä½œå·¥å…·æŠ½è±¡ä¸ç»Ÿä¸€
resolved_at: null
owner: null
source: ä»£ç é‡æ„ä¼˜åŒ–
status: ğŸš§ è¿›è¡Œä¸­
domain: ç¼–è¾‘å™¨åŸºç¡€è®¾æ–½
version: v1
---

# DOM æ“ä½œå·¥å…·æŠ½è±¡ä¸ç»Ÿä¸€

## ä»»åŠ¡æ¦‚è§ˆ

| é¡¹ç›®         | å†…å®¹                                                                                                                                                                                                                                                               |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **ä»»åŠ¡æ¥æº** | ä»£ç é‡æ„ä¼˜åŒ– - domain å±‚ DOM æ“ä½œåˆ†æ•£ï¼Œç¼ºä¹ç»Ÿä¸€æŠ½è±¡                                                                                                                                                                                                                |
| **è´Ÿè´£äºº**   | å¾…å®š                                                                                                                                                                                                                                                               |
| **ä¸Šçº¿ç›®æ ‡** | æä¾›ç»Ÿä¸€çš„ DOM æ“ä½œå·¥å…·é›†ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§                                                                                                                                                                                                              |
| **å½“å‰ç‰ˆæœ¬** | v1                                                                                                                                                                                                                                                                 |
| **å…³è”æ–‡æ¡£** | [éœ€æ±‚æç‚¼](/apps/report-ai/docs/specs/dom-utils-abstraction/spec-require-v1.md)<br/>[æ–¹æ¡ˆè®¾è®¡](/apps/report-ai/docs/specs/dom-utils-abstraction/spec-design-v1.md)<br/>[å®æ–½è®¡åˆ’](/apps/report-ai/docs/specs/dom-utils-abstraction/spec-implementation-plan-v1.md) |

## èƒŒæ™¯

å½“å‰ `apps/report-ai/src/domain` ç›®å½•ä¸‹å­˜åœ¨å¤§é‡ç›´æ¥çš„ DOM æ“ä½œä»£ç ï¼Œä¸»è¦åˆ†å¸ƒåœ¨ï¼š

- `domain/reportEditor/editor/contentSanitizer.ts` - ä¸´æ—¶ DOM å®¹å™¨åˆ›å»ºä¸å†…å®¹æ¸…æ´—
- `domain/reportEditor/chapter/render.ts` - æ ‡é¢˜è½¬æ¢çš„ DOM æ“ä½œ
- `domain/reportEditor/document/parse.ts` - æ–‡æ¡£è§£æçš„ DOM æŸ¥è¯¢
- `domain/reportEditor/chapterOrdinal/render.ts` - ç« èŠ‚åºå·èŠ‚ç‚¹åˆ›å»º

è¿™äº›æ“ä½œç¼ºä¹ç»Ÿä¸€æŠ½è±¡ï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

1. **ä»£ç é‡å¤**ï¼šå¤šå¤„ä½¿ç”¨ `document.createElement`ã€`innerHTML`ã€`querySelectorAll` ç­‰åŸç”Ÿ API
2. **å¯æµ‹è¯•æ€§å·®**ï¼šç›´æ¥ä¾èµ–å…¨å±€ `document` å¯¹è±¡ï¼Œéš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•
3. **ç»´æŠ¤æˆæœ¬é«˜**ï¼šDOM æ“ä½œé€»è¾‘åˆ†æ•£ï¼Œä¿®æ”¹æ—¶éœ€è¦å¤šå¤„åŒæ­¥
4. **ç¼ºä¹ç±»å‹å®‰å…¨**ï¼šåŸç”Ÿ API ç¼ºå°‘ä¸šåŠ¡è¯­ä¹‰çš„ç±»å‹çº¦æŸ

## ç›®æ ‡

å°†åˆ†æ•£çš„ DOM æ“ä½œæŠ½è±¡ä¸ºç»Ÿä¸€çš„å·¥å…·å‡½æ•°ï¼Œæ”¾ç½®åœ¨ `utils/dom` ç›®å½•ä¸‹ï¼Œæä¾›ï¼š

- ç±»å‹å®‰å…¨çš„ DOM æ“ä½œ API
- å¯æµ‹è¯•çš„çº¯å‡½æ•°å®ç°
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
- æ¸…æ™°çš„ä¸šåŠ¡è¯­ä¹‰å°è£…

## æ–‡æ¡£ç»“æ„

- [éœ€æ±‚æç‚¼](/apps/report-ai/docs/specs/dom-utils-abstraction/spec-require-v1.md) - ä¸šåŠ¡åœºæ™¯ä¸åŠŸèƒ½éœ€æ±‚
- [æ–¹æ¡ˆè®¾è®¡](/apps/report-ai/docs/specs/dom-utils-abstraction/spec-design-v1.md) - å·¥å…·å‡½æ•°è®¾è®¡ä¸æ¨¡å—åˆ’åˆ†
- [å®æ–½è®¡åˆ’](/apps/report-ai/docs/specs/dom-utils-abstraction/spec-implementation-plan-v1.md) - åˆ†é˜¶æ®µå®æ–½ä¸è¿ç§»ç­–ç•¥

## æ›´æ–°è®°å½•

| æ—¥æœŸ       | ä¿®æ”¹äºº | æ›´æ–°å†…å®¹                                         |
| ---------- | ------ | ------------------------------------------------ |
| 2025-11-19 | Kiro   | åˆå§‹åŒ–ä»»åŠ¡ç»“æ„ï¼Œå®Œæˆéœ€æ±‚æç‚¼ã€æ–¹æ¡ˆè®¾è®¡ã€å®æ–½è®¡åˆ’ |
