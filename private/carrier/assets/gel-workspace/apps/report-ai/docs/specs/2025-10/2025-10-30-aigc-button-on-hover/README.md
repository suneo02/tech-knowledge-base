# 章节标题悬停 AIGC 按钮 Spec

> 📖 遵循 [Spec 文档编写规范](../../../../../docs/rule/doc-spec-rule.md)

## 任务概览

| 项目     | 内容                                                                 |
| -------- | -------------------------------------------------------------------- |
| 任务来源 | 报告编辑器 AIGC 功能增强需求                                         |
| 负责人   | Kiro                                                                 |
| 目标时间 | 2025-10-30                                                           |
| 当前版本 | v2.0                                                                 |
| 当前状态 | 🔄 方案调整中                                                        |
| 关联文档 | [AIGC 功能流程](../../ContentManagement/single-chapter-aigc-flow.md) |

## 文档索引

| 文档                                 | 阶段     | 状态 | 说明                     |
| ------------------------------------ | -------- | ---- | ------------------------ |
| [需求与背景](./spec-require-v1.md)   | 需求分析 | ✅   | 业务目标、已有能力       |
| [方案设计](./spec-design-v1.md)      | 方案设计 | ✅   | 架构、接口、UI 规范      |
| [实施拆解](./spec-implementation.md) | 开发计划 | ✅   | 子任务、负责人、交付时间 |
| [验证与风险](./spec-verification.md) | 质量保障 | ✅   | 测试策略、监控、风险应对 |
| [实现说明](./spec-release-note.md)   | 交付归档 | ⏸️   | 上线后补充实现差异与验收 |

## 核心方案

- **交互逻辑**：监听鼠标移动，仅在 leaf chapter 标题上显示按钮
- **技术方案**：mousemove + elementFromPoint + leaf chapter 判断
- **关键约束**：不修改 TinyMCE 内部 DOM，支持多实例隔离

## 更新记录

| 日期       | 修改人 | 更新内容                                     |
| ---------- | ------ | -------------------------------------------- |
| 2025-11-05 | Kiro   | 简化方案：仅监听鼠标移动 + leaf chapter 判断 |
| 2025-11-XX | Codex  | 需求调整：标题悬停触发 + 按钮守卫            |
| 2025-10-30 | Kiro   | 实现整行悬停触发，移除延迟隐藏逻辑           |
| 2025-10-29 | Kiro   | 按照 Spec 规范拆分文档                       |

