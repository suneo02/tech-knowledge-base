# æˆä¿¡å•†æœºé…ç½®ç»Ÿä¸€ä¸­å¿ƒï¼ˆSpecï¼‰

> ğŸ“– è§„èŒƒå‚è€ƒï¼š`/docs/rule/doc-spec-rule.md`

## ä¸€å¥è¯å®šä½

- ç»Ÿä¸€â€œæˆä¿¡å•†æœºâ€åœ¨é¦–é¡µæ¨èä¸ Header èœå•çš„é…ç½®æ¥æºï¼Œæ¶ˆé™¤é‡å¤å¹¶ä¿è¯ä¸€è‡´æ€§ï¼›é€šè¿‡é…ç½®ä¸­å¿ƒ + é€‚é…å™¨ï¼Œåœ¨ä¸æ”¹å˜ä¸šåŠ¡è¡Œä¸ºçš„å‰æä¸‹å®ç°å¤ç”¨ã€‚

## èƒŒæ™¯é—®é¢˜

- é¦–é¡µæ¨èæ¥æºï¼š`/apps/company/src/views/HomeAI/comp/RecommendFunc/config/shared.ts:185-194`
- Header å…¨éƒ¨åŠŸèƒ½æ¥æºï¼š`/apps/company/src/components/Home/AllMenus/config/MarketingAcquisition.ts:22-26`
- ä¸¤å¤„å‡ç»´æŠ¤â€œæˆä¿¡å•†æœºâ€çš„ `title/desc/url`ï¼Œå­˜åœ¨é‡å¤ä¸æ½œåœ¨ä¸ä¸€è‡´é£é™©ã€‚

## ç›®æ ‡ä¸èŒƒå›´

- ç›®æ ‡ï¼šå»ºç«‹å•ä¸€æ¥æºçš„â€œåŠŸèƒ½é…ç½®ä¸­å¿ƒâ€ï¼Œç»Ÿä¸€ç»´æŠ¤ `title/titleId/desc/descId/url` ä¸éšè—è§„åˆ™ï¼Œå¹¶æä¾›ä¸Šä¸‹æ–‡é€‚é…ã€‚
- èŒƒå›´ï¼ˆé˜¶æ®µä¸€ï¼‰ï¼šä»…è¦†ç›–â€œæˆä¿¡å•†æœºâ€ï¼ˆkeyï¼š`creditOpportunities`ï¼‰ã€‚åç»­å¯æ‰©å±•è‡³å›­åŒºã€æ–°ä¼ã€åœ°å›¾ã€æˆ˜æ–°ç­‰é‡å¤é¡¹ã€‚

## è®¾è®¡æ–¹æ¡ˆ

- é…ç½®ä¸­å¿ƒæ¨¡å‹ï¼ˆæ¦‚å¿µï¼‰ï¼š
  - FeatureKeyï¼šåŠŸèƒ½é¡¹å”¯ä¸€é”®ï¼Œå¦‚ `creditOpportunities`ã€‚
  - æ‰å¹³åŒ–ç»“æ„ï¼šç›´æ¥åŒ…å« `title`, `titleId`, `desc`, `descId`, `url`ã€‚
  - éšè—è§„åˆ™ï¼š`hide` å‡½æ•°ï¼Œæ¥å—ç¯å¢ƒå‚æ•°å¹¶è¿”å›å¸ƒå°”å€¼ï¼ˆtrue è¡¨ç¤ºéšè—ï¼‰ã€‚
    - `hide: (params: { isOversea?: boolean }) => boolean`
    - å†…éƒ¨ä½¿ç”¨ `usedInClient()` åˆ¤æ–­ç»ˆç«¯ç¯å¢ƒï¼Œä¸å†ä¾èµ–ä¼ å…¥å‚æ•°ã€‚
- é€‚é…å™¨ï¼ˆå¯é€‰ï¼‰ï¼š
  - `toRecommendItem(feature, env) â†’ SearchHomeItemData`
  - `toMenuItem(feature, env) â†’ IFuncMenuItem`
- ç›®å½•ï¼ˆå»ºè®®ï¼‰ï¼š
  - é…ç½®ä¸­å¿ƒï¼š`/apps/company/src/config/features/index.ts`
  - é€‚é…å™¨ï¼š`/apps/company/src/config/features/adapters.ts`

## è¡Œä¸ºè§„åˆ™ï¼ˆä¸ç°çŠ¶ä¿æŒä¸€è‡´ï¼‰

- æ¶ˆè´¹æ–¹ç­–ç•¥ç¤ºä¾‹ï¼š
  - é¦–é¡µæ¨èï¼šè°ƒç”¨ `!hide()` ä¸ºçœŸåˆ™å±•ç¤ºã€‚
  - Header èœå•ï¼šå§‹ç»ˆæ¸²æŸ“ï¼Œä½†å¯èƒ½éœ€è¦æ ¹æ® `hide` æˆ– `usedInClient()` å†³å®šç¦ç”¨çŠ¶æ€ï¼ˆé€‚é…å™¨é€»è¾‘ï¼‰ã€‚
- URLï¼šç»Ÿä¸€ä½¿ç”¨ `BaiFenSites().creditOpportunities`ã€‚
- æ–‡æ¡ˆï¼šç»Ÿä¸€ä¸ºâ€œæˆä¿¡å•†æœºâ€ï¼Œé…ç½®ä¸­å¿ƒä»…æä¾› `titleId` å’Œé»˜è®¤ `title`ï¼Œæ¶ˆè´¹æ–¹è´Ÿè´£è°ƒç”¨ `t`ã€‚

## äº¤ä»˜ç‰©

- é…ç½®ä¸­å¿ƒä¸é€‚é…å™¨æ–‡ä»¶ï¼ˆè§â€œç›®å½•å»ºè®®â€ï¼‰ã€‚
- ä¸¤å¤„ä½¿ç”¨æ”¹é€ ï¼ˆé¦–é¡µæ¨èä¸ Header èœå•ï¼‰ï¼Œä¿æŒç°æœ‰è¡Œä¸ºä¸å˜ã€‚
- å•å…ƒä¸é›†æˆæµ‹è¯•ï¼ˆ`apps/company` é¡¹ç›®ä½¿ç”¨ Jestï¼‰ã€‚

## éªŒæ”¶æ ‡å‡†

- ä¸¤å…¥å£çš„ `title/desc/url` ä¸€è‡´ï¼Œä¸”æŒ‰ä¸Šä¸‹æ–‡è§„åˆ™æ­£ç¡®æ˜¾ç¤º/ç¦ç”¨ã€‚
- æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š
  - `url(env)` ç­‰äº `BaiFenSites().creditOpportunities`ã€‚
  - ç»ˆç«¯ç¯å¢ƒä¸‹ï¼šæ¨èå¯è§ï¼ˆhide=falseï¼‰ã€èœå•ç¦ç”¨ã€‚
  - éç»ˆç«¯ç¯å¢ƒä¸‹ï¼šæ¨èä¸å¯è§ï¼ˆhide=trueï¼‰ã€‚

## å®æ–½æ­¥éª¤

1. åˆ›å»ºé…ç½®ä¸­å¿ƒéª¨æ¶ä¸ `creditOpportunities` å®šä¹‰ã€‚
2. åˆ›å»ºä¸Šä¸‹æ–‡é€‚é…å™¨ï¼ˆæ¨è/èœå•ï¼‰ã€‚
3. æ”¹é€ é¦–é¡µæ¨è `shared.ts` æ³¨å…¥ `creditOpportunities`ï¼ˆä»…ç»ˆç«¯ï¼‰ã€‚
4. æ”¹é€  Header èœå• `MarketingAcquisition.ts` æ³¨å…¥ `creditOpportunities`ï¼ˆç»ˆç«¯ç¦ç”¨ï¼‰ã€‚
5. ç¼–å†™ Jest æµ‹è¯•è¦†ç›– URL ä¸éšè—è§„åˆ™ã€‚
6. æ–‡æ¡£æ ¡éªŒï¼šæœ¬ Spec ä¸è¶…è¿‡ 150 è¡Œï¼Œå¼•ç”¨ä¸ºç»å¯¹è·¯å¾„ã€‚

## é£é™©ä¸çº¦æŸ

- ç»“æ„å·®å¼‚ï¼šæ¨èé¡¹ä¸èœå•é¡¹ç»“æ„ä¸åŒï¼Œéœ€é€šè¿‡é€‚é…å™¨éš”ç¦»ã€‚
- ç¯å¢ƒå¤æ‚åº¦ï¼šå¦‚æµ·å¤–é…ç½®ï¼ˆ`isOversea`ï¼‰åç»­å¯æ‰©å±•è¿› `hide`ã€‚
- å¾ªç¯ä¾èµ–ï¼šé…ç½®ä¸­å¿ƒä»…å‘é¡µé¢æä¾›æ•°æ®ï¼Œé¿å…åå‘è€¦åˆã€‚

## é“¾æ¥ä¸å‚è€ƒ

- Doc è§„èŒƒï¼š`/docs/rule/doc-spec-rule.md`
- é¦–é¡µæ¨èï¼š`/apps/company/src/views/HomeAI/comp/RecommendFunc/config/shared.ts`
- Header èœå•ï¼š`/apps/company/src/components/Home/AllMenus/config/MarketingAcquisition.ts`
- èœå•èšåˆï¼š`/apps/company/src/components/Home/AllMenus/HeaderDropdown.ts`
